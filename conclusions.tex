\section{Conclusion}

This thesis proposes a new solution for payment routing in the lightning network called \acrfull{ldr}.\\
Research was made with the goal of understanding the concepts behind the lightning network, its limitations and the how the current \acrfull{spr} based implementations dealt with payment routing. From this research, a set of requirements needed for a new solution emerged and a solution that filled such requirements was developed.\\
Firstly, the developed protocol was described through an analysis of its various components and their responsibilities within the system. This analysis was followed by an in-depth specification of the protocol where protocol messages and implementation details were described at the byte-level.\\
Using a simulator, \acrshort{ldr}'s performance  was compared to the performance of the current solution with moderate success. Results peaked at a performance difference of $4.6\%$ for a simulation with large volume payments and with the biggest network we were able to simulate with on a reasonable time which had less than 500 nodes compared to the 4420 nodes of the real \acrshort{ln}. This size difference, combined with the fact that simulated nodes could only store one path per destination, weakened some of \acrshort{ldr}'s strengths and a bigger performance difference should be expected when working with the real lightning network.\\
As future work, it would be interesting to explore the possibility of allowing node operators to setup their node in accordance to their routing goals. Parameters like how many routing entries should be allowed per destination, the maximum percentage of funds available for routing or giving certain routing preferences to selected neighbours could be set by the operator of a routing node in accordance to his needs.\\
It would also be interesting to add, at the protocol level, the ability to share information about paths to subnets. This might help in reducing the bandwith needed to share routing tables by reducing their size, grouping their entries into specific subnets.\\
A concept analogous to what a \acrfull{vpn} is in networking could be extended to be used together with \acrshort{ldr}. By being behind a \acrfull{vppn} node, other nodes could mask their identities and payment route requests, routing them through the \acrshort{vppn} node and increasing their anonymity.\\
If AMP \ref{ssec:lightning_network_routing} or other multipath payment solution is implemented, \acrshort{ldr} could be adapted to work with it with little adjustments since the multipath payment problem could be subdivided into multiple one path payment problems which could be solved by the protocol.